<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Golang Part1 · Techiedeepdive
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="description" content="These are notes i document while learning Go.
Go package  Link to heading   the core of GO is packages. the main package contains one main function which is entry point for the build elf. The ways i can run this file
package main import ( &#34;fmt&#34; &#34;os&#34; ) func main() { fmt.Println(os.Args) }  Passing the file directory  go build main.go  Passing the directory. In this case, the files in that directory will be compiled to generate the elf binary.">
<meta name="keywords" content="">

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Golang Part1"/>
<meta name="twitter:description" content="These are notes i document while learning Go.
Go package  Link to heading   the core of GO is packages. the main package contains one main function which is entry point for the build elf. The ways i can run this file
package main import ( &#34;fmt&#34; &#34;os&#34; ) func main() { fmt.Println(os.Args) }  Passing the file directory  go build main.go  Passing the directory. In this case, the files in that directory will be compiled to generate the elf binary."/>

<meta property="og:title" content="Golang Part1" />
<meta property="og:description" content="These are notes i document while learning Go.
Go package  Link to heading   the core of GO is packages. the main package contains one main function which is entry point for the build elf. The ways i can run this file
package main import ( &#34;fmt&#34; &#34;os&#34; ) func main() { fmt.Println(os.Args) }  Passing the file directory  go build main.go  Passing the directory. In this case, the files in that directory will be compiled to generate the elf binary." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2020/07/golang-part1/" /><meta property="og:image" content=""/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-10T01:59:51+02:00" />
<meta property="article:modified_time" content="2020-07-10T01:59:51+02:00" /><meta property="og:site_name" content="Techiedeepdive" />





<link rel="canonical" href="/posts/2020/07/golang-part1/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.0669b62fc2c181a12a4ba10be9984e385c9a5e83dc7cb7ae3759ad0b98d7e8b2.css" integrity="sha256-Bmm2L8LBgaEqS6EL6ZhOOFyaXoPcfLeuN1mtC5jX6LI=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.f6534b0b446b75d9b6ad77a97d43ede2ddaeff1b6e2361fb7198d6f8fcb7f83f.css" integrity="sha256-9lNLC0Rrddm2rXepfUPt4t2u/xtuI2H7cZjW&#43;Py3&#43;D8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">




<meta name="generator" content="Hugo 0.92.2" />





</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Techiedeepdive
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/reading-list/">Reading list</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/tags/">Tags</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="/posts/2020/07/golang-part1/">
              Golang Part1
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-07-10T01:59:51&#43;02:00">
                July 10, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/go/">go</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>These are notes i document while learning Go.</p>
<h1 id="go-package">
  Go package
  <a class="heading-link" href="#go-package">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>the core of GO is packages. the main package contains one main function which is entry point for the build elf.
The ways i can run this file</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> main

<span style="color:#fff;font-weight:bold">import</span> (
	<span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;os&#34;</span>
)

<span style="color:#fff;font-weight:bold">func</span> main() {
	fmt.Println(os.Args)
}
</code></pre></div><ul>
<li>Passing the file directory</li>
</ul>
<pre tabindex="0"><code>go build main.go
</code></pre><ul>
<li>Passing the directory. In this case, the files in that directory will be compiled to generate the elf binary.</li>
</ul>
<pre tabindex="0"><code>go build ./
</code></pre><p>Note that all names should be unique in the files compiled into the same package.</p>
<h1 id="user-defined-package">
  User defined package
  <a class="heading-link" href="#user-defined-package">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>By default, go searches the the go <code>worksapaces</code>. The <code>workspace</code> is directory that contains <code>src</code> and <code>pkg</code> directory.</p>
<pre tabindex="0"><code>&lt;GOPATH&gt;/src/github.com/&lt;user&gt;/packages/
├── main.go
└── pks
    └── pks.go
</code></pre><p>for that we need to set the GOPATH. In main.go, <code>pks</code> needs to be imported relative to GOPATH.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> main

<span style="color:#fff;font-weight:bold">import</span> (
	<span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;math/rand&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;github.com/&lt;user&gt;/packages/pks&#34;</span>
)

<span style="color:#fff;font-weight:bold">func</span> main() {
	fmt.Println(<span style="color:#0ff;font-weight:bold">&#34;My favorite number is&#34;</span>, rand.Intn(<span style="color:#ff0;font-weight:bold">10</span>))
	pks.F(<span style="color:#0ff;font-weight:bold">&#34;Test&#34;</span>)
	F(<span style="color:#0ff;font-weight:bold">&#34;test1&#34;</span>)
}
</code></pre></div><p>The trick here is the export symbols(variable or functions) should start with Capital char.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> pks

<span style="color:#fff;font-weight:bold">import</span> <span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>

<span style="color:#fff;font-weight:bold">func</span> F(i1 <span style="color:#fff;font-weight:bold">string</span>) {
	fmt.Println(i1)
}

</code></pre></div><h1 id="env-variables">
  Env variables
  <a class="heading-link" href="#env-variables">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><code>os.Getenv</code> and <code>os.Setenv</code> are used for well Getting and Setting variables.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> main

<span style="color:#fff;font-weight:bold">import</span> (
	<span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;os&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;strings&#34;</span>
)

<span style="color:#fff;font-weight:bold">func</span> main() {

	gopath := os.Getenv(<span style="color:#0ff;font-weight:bold">&#34;GOPATH&#34;</span>)
	fmt.Println(gopath)
	<span style="color:#fff;font-weight:bold">for</span> _, g := <span style="color:#fff;font-weight:bold">range</span> strings.Split(gopath, <span style="color:#0ff;font-weight:bold">&#34;:&#34;</span>) {
		fmt.Println(g)
	}
	os.Setenv(<span style="color:#0ff;font-weight:bold">&#34;GOPATH1&#34;</span>, gopath)
	<span style="color:#fff;font-weight:bold">for</span> _, e := <span style="color:#fff;font-weight:bold">range</span> os.Environ() {
		fmt.Println(e)
	}
}
</code></pre></div><h1 id="command-line-arguments">
  Command line arguments
  <a class="heading-link" href="#command-line-arguments">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><code>os.Args</code> is <code>[]string</code>. I can&rsquo;t find <code>argc</code> but there is <code>len(os.Args)</code></p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> main

<span style="color:#fff;font-weight:bold">import</span> (
	<span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;os&#34;</span>
)

<span style="color:#fff;font-weight:bold">func</span> main() {

	fmt.Println(os.Args)

	<span style="color:#fff;font-weight:bold">for</span> _, a := <span style="color:#fff;font-weight:bold">range</span> os.Args {
		fmt.Println(a)
	}
}
</code></pre></div><h1 id="files-and-directory">
  Files and Directory
  <a class="heading-link" href="#files-and-directory">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><code>ReadDir</code> takes string and return slice of type <code>FileInfo</code>. there are some basic types <code>File</code>, <code>FileInfo</code> and <code>FileMode</code>. Full <code>os</code> package docs at <a href="https://golang.org/pkg/os/"  class="external-link" target="_blank" rel="noopener">golang doc</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> main

<span style="color:#fff;font-weight:bold">import</span> (
	<span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;io/ioutil&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;os&#34;</span>
)

<span style="color:#fff;font-weight:bold">func</span> main() {
	fmt.Println(<span style="color:#0ff;font-weight:bold">&#34;Hello gotree&#34;</span>)

	<span style="color:#fff;font-weight:bold">if</span> <span style="color:#fff;font-weight:bold">len</span>(os.Args) &lt; <span style="color:#ff0;font-weight:bold">2</span> {
		fmt.Println(<span style="color:#0ff;font-weight:bold">&#34;Missing argument: Path to diretory&#34;</span>)
		os.Exit(<span style="color:#ff0;font-weight:bold">1</span>)
	}
	dir := os.Args[<span style="color:#ff0;font-weight:bold">1</span>]

	files, err := ioutil.ReadDir(dir)
	fmt.Println(err)

	<span style="color:#fff;font-weight:bold">for</span> _, file := <span style="color:#fff;font-weight:bold">range</span> files {

		<span style="color:#fff;font-weight:bold">if</span> file.IsDir() {
			fmt.Println(<span style="color:#0ff;font-weight:bold">&#34;Directory:&#34;</span> + file.Name())
		} <span style="color:#fff;font-weight:bold">else</span> {
			fmt.Println(file.Name())
		}
	}
}
</code></pre></div><h1 id="writing-and-reading-files">
  Writing and Reading Files
  <a class="heading-link" href="#writing-and-reading-files">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><code>os.OpenFile</code> takes path, Flags and permissions. Then <code>File.Write</code> of <code>File.WriteString</code>.
There is also <code>ioutil.ReadFile</code> to read the whole in one go.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> main

<span style="color:#fff;font-weight:bold">import</span> (
	<span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;io/ioutil&#34;</span>
	<span style="color:#0ff;font-weight:bold">&#34;os&#34;</span>
)

<span style="color:#fff;font-weight:bold">func</span> main() {
	fmt.Println(<span style="color:#0ff;font-weight:bold">&#34;Hello&#34;</span>)

	<span style="color:#007f7f">// Write
</span><span style="color:#007f7f"></span>	f, err := os.OpenFile(<span style="color:#0ff;font-weight:bold">&#34;tmp.txt&#34;</span>, os.O_RDWR|os.O_CREATE, <span style="color:#ff0;font-weight:bold">0777</span>)
	<span style="color:#fff;font-weight:bold">if</span> err != <span style="color:#fff;font-weight:bold">nil</span> {
		fmt.Println(err)
	}
	fmt.Println(f.Name())

	n := []<span style="color:#fff;font-weight:bold">byte</span>{<span style="color:#ff0;font-weight:bold">65</span>}
	f.Write(n)

	f.WriteString(<span style="color:#0ff;font-weight:bold">&#34;This is text&#34;</span>)
	f.Close()

	<span style="color:#007f7f">// Reading
</span><span style="color:#007f7f"></span>	f, err = os.OpenFile(<span style="color:#0ff;font-weight:bold">&#34;/etc/passwd&#34;</span>, os.O_RDONLY, <span style="color:#ff0;font-weight:bold">0777</span>)
	<span style="color:#fff;font-weight:bold">if</span> err != <span style="color:#fff;font-weight:bold">nil</span> {
		fmt.Println(err)
	}

	b1 := <span style="color:#fff;font-weight:bold">make</span>([]<span style="color:#fff;font-weight:bold">byte</span>, <span style="color:#ff0;font-weight:bold">5</span>)
	n1, err := f.Read(b1)
	fmt.Println(<span style="color:#fff;font-weight:bold">string</span>(b1))
	fmt.Println(n1, err)
	f.Close()

	b2, err := ioutil.ReadFile(<span style="color:#0ff;font-weight:bold">&#34;/etc/passwd&#34;</span>)
	<span style="color:#fff;font-weight:bold">if</span> err != <span style="color:#fff;font-weight:bold">nil</span> {
		fmt.Println(err)
	}
	fmt.Println(<span style="color:#fff;font-weight:bold">string</span>(b2))
}
</code></pre></div><h1 id="slices">
  Slices
  <a class="heading-link" href="#slices">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#fff;font-weight:bold">package</span> main

<span style="color:#fff;font-weight:bold">import</span> (
	<span style="color:#0ff;font-weight:bold">&#34;fmt&#34;</span>
)

<span style="color:#fff;font-weight:bold">func</span> main() {
	fmt.Println(<span style="color:#0ff;font-weight:bold">&#34;Slices&#34;</span>)

	<span style="color:#007f7f">// Slice is refernce to part of Array
</span><span style="color:#007f7f"></span>	b := [<span style="color:#ff0;font-weight:bold">5</span>]<span style="color:#fff;font-weight:bold">string</span>{<span style="color:#0ff;font-weight:bold">&#34;A&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;D&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;E&#34;</span>}
	s := b[<span style="color:#ff0;font-weight:bold">1</span>:<span style="color:#ff0;font-weight:bold">4</span>]
	fmt.Println(s)
	s[<span style="color:#ff0;font-weight:bold">0</span>] = <span style="color:#0ff;font-weight:bold">&#34;THE&#34;</span>
	fmt.Println(b)

	<span style="color:#007f7f">// Slice literal
</span><span style="color:#007f7f"></span>	bl := []<span style="color:#fff;font-weight:bold">bool</span>{<span style="color:#fff;font-weight:bold">true</span>, <span style="color:#fff;font-weight:bold">false</span>}
	fmt.Println(bl)

	<span style="color:#007f7f">// len, cap
</span><span style="color:#007f7f"></span>	s1 := []<span style="color:#fff;font-weight:bold">int</span>{<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">11</span>, <span style="color:#ff0;font-weight:bold">13</span>}
	fmt.Println(<span style="color:#fff;font-weight:bold">cap</span>(s1), <span style="color:#fff;font-weight:bold">len</span>(s1))
	s2 := s1[<span style="color:#ff0;font-weight:bold">2</span>:<span style="color:#ff0;font-weight:bold">5</span>]
	fmt.Println(<span style="color:#fff;font-weight:bold">cap</span>(s2), <span style="color:#fff;font-weight:bold">len</span>(s2))

	<span style="color:#007f7f">// make(dynamic slices)
</span><span style="color:#007f7f"></span>	s3 := <span style="color:#fff;font-weight:bold">make</span>([]<span style="color:#fff;font-weight:bold">int</span>, <span style="color:#ff0;font-weight:bold">5</span>)
	fmt.Println(<span style="color:#fff;font-weight:bold">cap</span>(s3), <span style="color:#fff;font-weight:bold">len</span>(s3))

	<span style="color:#007f7f">// Append
</span><span style="color:#007f7f"></span>	s3 = <span style="color:#fff;font-weight:bold">append</span>(s3, s1...)
	fmt.Println(s3)
}
</code></pre></div>
      </div>


      <footer>
        


        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2023
    
    ·
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.369d90111ae4409b4e51de5efd23a46b92663fcc82dc9a0efde7f70bffc3f949.js" integrity="sha256-Np2QERrkQJtOUd5e/SOka5JmP8yC3JoO/ef3C//D&#43;Uk="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>