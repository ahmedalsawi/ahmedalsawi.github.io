<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Wake on LAN · Techiedeepdive
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="description" content="There is a cool protocol to boot machine remotely called Wake on LAN. Considering i am using RPI as gateway, This allows me to start my machine remotely and poweroff if not needed.

  Enable WOL in BIOS/UEFI
  
    
    Link to heading
  

This has to be supported by hardware and it&rsquo;s usually disabled by default. On my mobo, It&rsquo;s named &ldquo;Power On by PCIE&rdquo;. So, that has to be enabled first.">
<meta name="keywords" content="homepage, blog">



  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="/">
  <meta name="twitter:title" content="Wake on LAN">
  <meta name="twitter:description" content="There is a cool protocol to boot machine remotely called Wake on LAN. Considering i am using RPI as gateway, This allows me to start my machine remotely and poweroff if not needed.
Enable WOL in BIOS/UEFI Link to heading This has to be supported by hardware and it’s usually disabled by default. On my mobo, It’s named “Power On by PCIE”. So, that has to be enabled first.">

<meta property="og:url" content="/posts/2020/08/wake-on-lan/">
  <meta property="og:site_name" content="Techiedeepdive">
  <meta property="og:title" content="Wake on LAN">
  <meta property="og:description" content="There is a cool protocol to boot machine remotely called Wake on LAN. Considering i am using RPI as gateway, This allows me to start my machine remotely and poweroff if not needed.
Enable WOL in BIOS/UEFI Link to heading This has to be supported by hardware and it’s usually disabled by default. On my mobo, It’s named “Power On by PCIE”. So, that has to be enabled first.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-08-29T15:46:08+02:00">
    <meta property="article:modified_time" content="2020-08-29T15:46:08+02:00">
    <meta property="article:tag" content="IT">
    <meta property="og:image" content="/">




<link rel="canonical" href="/posts/2020/08/wake-on-lan/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.aa5ef26fa979d6793724ae2dbd71efa94fd16cb1c5c7db3b6651f21f9892a5fd.css" integrity="sha256-ql7yb6l51nk3JK4tvXHvqU/RbLHFx9s7ZlHyH5iSpf0=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="/">
      Techiedeepdive
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/reading-list/">Reading list</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/tags/">Tags</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="/posts/2020/08/wake-on-lan/">
              Wake on LAN
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-08-29T15:46:08&#43;02:00">
                August 29, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              One-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/it/">IT</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <p>There is a cool protocol to boot machine remotely called <a href="https://en.wikipedia.org/wiki/Wake-on-LAN"  class="external-link" target="_blank" rel="noopener">Wake on LAN</a>. Considering i am using RPI as gateway, This allows me to start my machine remotely and poweroff if not needed.</p>
<h1 id="enable-wol-in-biosuefi">
  Enable WOL in BIOS/UEFI
  <a class="heading-link" href="#enable-wol-in-biosuefi">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>This has to be supported by hardware and it&rsquo;s usually disabled by default. On my mobo, It&rsquo;s named &ldquo;Power On by PCIE&rdquo;. So, that has to be enabled first.</p>
<h1 id="enable-wol-in-ethernet-driver">
  Enable WOL in ethernet driver
  <a class="heading-link" href="#enable-wol-in-ethernet-driver">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>following the steps <a href="https://wiki.debian.org/WakeOnLan"  class="external-link" target="_blank" rel="noopener">page</a>, we need ethtool to change the ethernet driver from <em>d</em> (default) to <em>g</em>(magic).</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ethtool -s &lt;NETWORK INTERFACE&gt; wol g
</span></span></code></pre></div><h2 id="make-wol-persistent">
  Make WOL persistent
  <a class="heading-link" href="#make-wol-persistent">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>from <a href="https://www.techrepublic.com/article/how-to-enable-wake-on-lan-in-ubuntu-server-18-04/"  class="external-link" target="_blank" rel="noopener">page</a>, interfaces resets the WOL flag on boot. so, we need to create a systemd service to set it back to magic after boot.</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vi /etc/systemd/system/wol.service
</span></span></code></pre></div><p>use the following service</p>
<pre tabindex="0"><code>[Unit]
Description=Configure Wake On LAN

[Service]
Type=oneshot
ExecStart=/sbin/ethtool -s INTERFACE wol g

[Install]
WantedBy=basic.target
</code></pre><p>Restart systemd</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl daemon-reload
</span></span><span style="display:flex;"><span>sudo systemctl enable wol.service
</span></span><span style="display:flex;"><span>sudo systemctl start wol.service
</span></span></code></pre></div><h1 id="booting-the-machine">
  Booting the machine
  <a class="heading-link" href="#booting-the-machine">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>To start a machine, we need the MAC of that machine and connection a machine on the same network.</p>
<div class="highlight"><pre tabindex="0" style="color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo etherwake &lt;MAC&gt; -i &lt;INTERFACE&gt;
</span></span></code></pre></div>
      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2026
    
    ·
    
      Licensed under <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA-4.0</a>
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>
