<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Prim&#39;s Minimum Spanning Tree Â· Techiedeepdive
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="description" content="Introduction  Link to heading   prim&rsquo;s Algorithm find minimum spanning tree for weighted undirected graph.
basically, Minimum spanning tree is sub-graph (in this case tree) that connect all vertices of weight graph. This requires that original graph is connected.
MST is useful for network distribution problems.
The algorithm  Link to heading   From the wiki:
 Initialize a tree with a single vertex, chosen arbitrarily from the graph.">
<meta name="keywords" content="">

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Prim&#39;s Minimum Spanning Tree"/>
<meta name="twitter:description" content="Introduction  Link to heading   prim&rsquo;s Algorithm find minimum spanning tree for weighted undirected graph.
basically, Minimum spanning tree is sub-graph (in this case tree) that connect all vertices of weight graph. This requires that original graph is connected.
MST is useful for network distribution problems.
The algorithm  Link to heading   From the wiki:
 Initialize a tree with a single vertex, chosen arbitrarily from the graph."/>

<meta property="og:title" content="Prim&#39;s Minimum Spanning Tree" />
<meta property="og:description" content="Introduction  Link to heading   prim&rsquo;s Algorithm find minimum spanning tree for weighted undirected graph.
basically, Minimum spanning tree is sub-graph (in this case tree) that connect all vertices of weight graph. This requires that original graph is connected.
MST is useful for network distribution problems.
The algorithm  Link to heading   From the wiki:
 Initialize a tree with a single vertex, chosen arbitrarily from the graph." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2020/06/prims-minimum-spanning-tree/" /><meta property="og:image" content=""/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-12T00:56:05+02:00" />
<meta property="article:modified_time" content="2020-06-12T00:56:05+02:00" /><meta property="og:site_name" content="Techiedeepdive" />





<link rel="canonical" href="/posts/2020/06/prims-minimum-spanning-tree/">


<link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.min.0669b62fc2c181a12a4ba10be9984e385c9a5e83dc7cb7ae3759ad0b98d7e8b2.css" integrity="sha256-Bmm2L8LBgaEqS6EL6ZhOOFyaXoPcfLeuN1mtC5jX6LI=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.min.f6534b0b446b75d9b6ad77a97d43ede2ddaeff1b6e2361fb7198d6f8fcb7f83f.css" integrity="sha256-9lNLC0Rrddm2rXepfUPt4t2u/xtuI2H7cZjW&#43;Py3&#43;D8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">




<meta name="generator" content="Hugo 0.92.2" />





</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Techiedeepdive
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/reading-list/">Reading list</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/tags/">Tags</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="/posts/2020/06/prims-minimum-spanning-tree/">
              Prim&#39;s Minimum Spanning Tree
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime="2020-06-12T00:56:05&#43;02:00">
                June 12, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              2-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/graphs/">Graphs</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <h1 id="introduction">
  Introduction
  <a class="heading-link" href="#introduction">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p><a href="https://en.wikipedia.org/wiki/Prim%27s_algorithm"  class="external-link" target="_blank" rel="noopener">prim&rsquo;s Algorithm</a> find minimum spanning tree for weighted undirected graph.</p>
<p>basically, Minimum spanning tree is sub-graph (in this case tree) that connect all vertices of weight graph. This requires that original graph is connected.</p>
<p>MST is useful for network distribution problems.</p>
<h1 id="the-algorithm">
  The algorithm
  <a class="heading-link" href="#the-algorithm">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<p>From the wiki:</p>
<ul>
<li>Initialize a tree with a single vertex, chosen arbitrarily from the graph.</li>
<li>Grow the tree by one edge: of the edges that connect the tree to vertices not yet in the tree, find the minimum-weight edge, and transfer it to the tree.</li>
<li>Repeat step 2 (until all vertices are in the tree).</li>
</ul>
<h1 id="implementation">
  Implementation
  <a class="heading-link" href="#implementation">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<ul>
<li>As usual, adjacency list graph.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#fff;font-weight:bold">class</span> Graph:
    <span style="color:#fff;font-weight:bold">def</span> __init__(self, V):
        self.V = V
        self.graph = [[] <span style="color:#fff;font-weight:bold">for</span> i in <span style="color:#fff;font-weight:bold">range</span>(V)]

    <span style="color:#fff;font-weight:bold">def</span> connect(self, n1,n2, w):
        self.graph[n1].append((n2,w))
        self.graph[n2].append((n1,w))
</code></pre></div><ul>
<li>The tricky part is knowing the edge to add. I use <code>mstSet</code> as the temp sub-graph. This means the termination condition is  all vertices are in <code>mstSet</code>. probably, This is not the best implementation but it&rsquo;s good enough for this.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">            value = <span style="color:#fff;font-weight:bold">float</span>(<span style="color:#0ff;font-weight:bold">&#39;inf&#39;</span>)
            <span style="color:#fff;font-weight:bold">for</span> n1 in mstSet:
                <span style="color:#fff;font-weight:bold">for</span> (n2,w) in self.graph[n1]:
                    <span style="color:#fff;font-weight:bold">if</span> w &lt; value and (not n2 in mstSet):
                        edge = (n1,n2,w)
                        value = w

          run = <span style="color:#fff;font-weight:bold">len</span>(mstSet) != self.V
</code></pre></div><h1 id="putting-it-all-together">
  Putting it all together
  <a class="heading-link" href="#putting-it-all-together">
    <i class="fa fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h1>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#fff;font-weight:bold">import</span> random

<span style="color:#fff;font-weight:bold">class</span> Graph:
    <span style="color:#fff;font-weight:bold">def</span> __init__(self, V):
        self.V = V
        self.graph = [[] <span style="color:#fff;font-weight:bold">for</span> i in <span style="color:#fff;font-weight:bold">range</span>(V)]

    <span style="color:#fff;font-weight:bold">def</span> connect(self, n1,n2, w):
        self.graph[n1].append((n2,w))
        self.graph[n2].append((n1,w))


<span style="color:#fff;font-weight:bold">class</span> Prim(Graph):
    <span style="color:#fff;font-weight:bold">def</span> __init__(self,V):
        Graph.__init__(self,V)
        self.mst  = Graph(self.V)

        
    <span style="color:#fff;font-weight:bold">def</span> MST(self):
        mstSet = []
        <span style="color:#007f7f"># initial random node</span>
        start = random.randint(<span style="color:#ff0;font-weight:bold">0</span>, self.V-<span style="color:#ff0;font-weight:bold">1</span>)
        mstSet.append(start)
        <span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">f</span><span style="color:#0ff;font-weight:bold">&#34;&gt;&gt; Starting at node </span><span style="color:#0ff;font-weight:bold">{</span>start<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">&#34;</span>)
        total = <span style="color:#ff0;font-weight:bold">0</span>
        run = <span style="color:#fff;font-weight:bold">True</span>
        <span style="color:#fff;font-weight:bold">while</span> run:
            <span style="color:#007f7f"># Get the edge and add the node to mstSet</span>
            edge= ()
            
            value = <span style="color:#fff;font-weight:bold">float</span>(<span style="color:#0ff;font-weight:bold">&#39;inf&#39;</span>)
            <span style="color:#fff;font-weight:bold">for</span> n1 in mstSet:
                <span style="color:#fff;font-weight:bold">for</span> (n2,w) in self.graph[n1]:
                    <span style="color:#fff;font-weight:bold">if</span> w &lt; value and (not n2 in mstSet):
                        edge = (n1,n2,w)
                        value = w
                        
            
            mstSet.append(edge[<span style="color:#ff0;font-weight:bold">1</span>])
            total += edge[<span style="color:#ff0;font-weight:bold">2</span>]
            <span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">f</span><span style="color:#0ff;font-weight:bold">&#34;edge=</span><span style="color:#0ff;font-weight:bold">{</span>edge<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">&#34;</span>)
            <span style="color:#007f7f"># connect the node </span>
            self.mst.connect(*edge)
            <span style="color:#007f7f"># check if all nodes are in the MST</span>
            run = <span style="color:#fff;font-weight:bold">len</span>(mstSet) != self.V
        <span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">f</span><span style="color:#0ff;font-weight:bold">&#34;total weight=</span><span style="color:#0ff;font-weight:bold">{</span>total<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">&#34;</span>)
        


<span style="color:#fff;font-weight:bold">def</span> main():
    g = Prim(<span style="color:#ff0;font-weight:bold">9</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">4</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">7</span>,<span style="color:#ff0;font-weight:bold">8</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">7</span>,<span style="color:#ff0;font-weight:bold">11</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">8</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">7</span>,<span style="color:#ff0;font-weight:bold">8</span>,<span style="color:#ff0;font-weight:bold">7</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">7</span>,<span style="color:#ff0;font-weight:bold">6</span>,<span style="color:#ff0;font-weight:bold">1</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">8</span>,<span style="color:#ff0;font-weight:bold">2</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">5</span>,<span style="color:#ff0;font-weight:bold">4</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>,<span style="color:#ff0;font-weight:bold">7</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">8</span>,<span style="color:#ff0;font-weight:bold">6</span>,<span style="color:#ff0;font-weight:bold">6</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">6</span>,<span style="color:#ff0;font-weight:bold">5</span>,<span style="color:#ff0;font-weight:bold">2</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">3</span>,<span style="color:#ff0;font-weight:bold">5</span>,<span style="color:#ff0;font-weight:bold">14</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">3</span>,<span style="color:#ff0;font-weight:bold">4</span>,<span style="color:#ff0;font-weight:bold">9</span>)
    g.connect(<span style="color:#ff0;font-weight:bold">5</span>,<span style="color:#ff0;font-weight:bold">4</span>,<span style="color:#ff0;font-weight:bold">10</span>)
    g.MST()

    <span style="color:#fff;font-weight:bold">for</span> v in g.mst.graph:
        <span style="color:#fff;font-weight:bold">print</span>(<span style="color:#0ff;font-weight:bold">f</span><span style="color:#0ff;font-weight:bold">&#34;vertix=</span><span style="color:#0ff;font-weight:bold">{</span>v<span style="color:#0ff;font-weight:bold">}</span><span style="color:#0ff;font-weight:bold">&#34;</span>)

<span style="color:#fff;font-weight:bold">if</span> __name__ == <span style="color:#0ff;font-weight:bold">&#34;__main__&#34;</span>:
    main()

</code></pre></div>
      </div>


      <footer>
        


        
        
        
        
      </footer>
    </article>

    
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    Â©
    
    2023
    
    Â·
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.min.369d90111ae4409b4e51de5efd23a46b92663fcc82dc9a0efde7f70bffc3f949.js" integrity="sha256-Np2QERrkQJtOUd5e/SOka5JmP8yC3JoO/ef3C//D&#43;Uk="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  
</body>

</html>