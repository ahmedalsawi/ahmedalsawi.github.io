<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="pep 503 defines the python package repo api used py pypi.org. I thought it was fun to create small repo using Flask (to host Flask) :)
The spec require two urls
 root url project url  root url return html listing available project page. the anchor tags has the following requirements
 The text of the anchor tag MUST be the name of the project and the href attribute MUST link to the URL for that particular project." />
<meta name="keywords" content=", Python" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/posts/2021/05/python-pep-503/" />


    <title>
        
            Python Pep 503 :: Techiedeepdive 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.de188b3201233c251f4fd6306dbd2cb41e408fb8846c09781b2925de7df5025c.css">






<meta itemprop="name" content="Python Pep 503">
<meta itemprop="description" content="pep 503 defines the python package repo api used py pypi.org. I thought it was fun to create small repo using Flask (to host Flask) :)
The spec require two urls
 root url project url  root url return html listing available project page. the anchor tags has the following requirements
 The text of the anchor tag MUST be the name of the project and the href attribute MUST link to the URL for that particular project."><meta itemprop="datePublished" content="2021-05-01T13:09:31+01:00" />
<meta itemprop="dateModified" content="2021-05-01T13:09:31+01:00" />
<meta itemprop="wordCount" content="207"><meta itemprop="image" content=""/>
<meta itemprop="keywords" content="Python," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Python Pep 503"/>
<meta name="twitter:description" content="pep 503 defines the python package repo api used py pypi.org. I thought it was fun to create small repo using Flask (to host Flask) :)
The spec require two urls
 root url project url  root url return html listing available project page. the anchor tags has the following requirements
 The text of the anchor tag MUST be the name of the project and the href attribute MUST link to the URL for that particular project."/>




    <meta property="og:title" content="Python Pep 503" />
<meta property="og:description" content="pep 503 defines the python package repo api used py pypi.org. I thought it was fun to create small repo using Flask (to host Flask) :)
The spec require two urls
 root url project url  root url return html listing available project page. the anchor tags has the following requirements
 The text of the anchor tag MUST be the name of the project and the href attribute MUST link to the URL for that particular project." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2021/05/python-pep-503/" /><meta property="og:image" content=""/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-01T13:09:31+01:00" />
<meta property="article:modified_time" content="2021-05-01T13:09:31+01:00" /><meta property="og:site_name" content="Techiedeepdive" />







    <meta property="article:published_time" content="2021-05-01 13:09:31 &#43;0100 IST" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/posts">Blog</a></li><li><a href="/reading-list/">Reading list</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        One minute

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/posts/2021/05/python-pep-503/">Python Pep 503</a>
      </h1>

      

      

      <div class="post-content">
        <p><a href="https://www.python.org/dev/peps/pep-0503/">pep 503</a> defines the python package repo api used py <em>pypi.org</em>. I thought it was fun to create small repo using Flask (to host Flask) :)</p>
<p>The spec require two urls</p>
<ul>
<li>root url</li>
<li>project url</li>
</ul>
<p>root url return html listing available project page. the anchor tags has the following requirements</p>
<blockquote>
<p>The text of the anchor tag MUST be the name of the project and the href attribute MUST link to the URL for that particular project.</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pypi:repository-version&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.0&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;Simple index&lt;/<span style="color:#f92672">title</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/foo/&#34;</span>&gt;Foo&lt;/<span style="color:#f92672">a</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>the project url, returns  html with anchor tags for tar file name and href for the that tar.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
  &lt;<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;pypi:repository-version&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.0&#34;</span>&gt;
    &lt;<span style="color:#f92672">title</span>&gt;Links for Flask&lt;/<span style="color:#f92672">title</span>&gt;
  &lt;/<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">h1</span>&gt;Links for Flask&lt;/<span style="color:#f92672">h1</span>&gt;
    &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/static/Foo-0.1.tar.gz&#34;</span>&gt;Flask-0.1.tar.gz&lt;/<span style="color:#f92672">a</span>&gt;&lt;<span style="color:#f92672">br</span>/&gt;
    &lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;

</code></pre></div><h1 id="full-source-code">Full source code</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">pip3 install Foo --index-url  http://localhost:5000 -v
</code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#f92672">import</span> os
<span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask, send_from_directory, send_file


app <span style="color:#f92672">=</span> Flask(__name__, static_url_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>)

<span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>route(<span style="color:#e6db74">&#39;/static/&lt;path:filename&gt;&#39;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(filename):
    root_dir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>getcwd()
    print(root_dir, filename)
    <span style="color:#66d9ef">return</span> send_from_directory(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(root_dir), filename)

<span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>route(<span style="color:#e6db74">&#39;/&#39;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">home</span>():
	<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">&lt;!DOCTYPE html&gt;
</span><span style="color:#e6db74">&lt;html&gt;
</span><span style="color:#e6db74">  &lt;head&gt;
</span><span style="color:#e6db74">    &lt;meta name=&#34;pypi:repository-version&#34; content=&#34;1.0&#34;&gt;
</span><span style="color:#e6db74">    &lt;title&gt;Simple index&lt;/title&gt;
</span><span style="color:#e6db74">  &lt;/head&gt;
</span><span style="color:#e6db74">  &lt;body&gt;
</span><span style="color:#e6db74">&lt;a href=&#34;/foo/&#34;&gt;Foo&lt;/a&gt;
</span><span style="color:#e6db74">&lt;/body&gt;
</span><span style="color:#e6db74">&lt;/html&gt;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">&#34;&#34;&#34;</span>
<span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>route(<span style="color:#e6db74">&#39;/foo/&#39;</span>)
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">hello_world</span>():
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">&lt;!DOCTYPE html&gt;
</span><span style="color:#e6db74">&lt;html&gt;
</span><span style="color:#e6db74">  &lt;head&gt;
</span><span style="color:#e6db74">    &lt;meta name=&#34;pypi:repository-version&#34; content=&#34;1.0&#34;&gt;
</span><span style="color:#e6db74">    &lt;title&gt;Links for Flask&lt;/title&gt;
</span><span style="color:#e6db74">  &lt;/head&gt;
</span><span style="color:#e6db74">  &lt;body&gt;
</span><span style="color:#e6db74">    &lt;h1&gt;Links for Flask&lt;/h1&gt;
</span><span style="color:#e6db74">    &lt;a href=&#34;/static/Foo-0.1.tar.gz&#34;&gt;Foo-0.1.tar.gz&lt;/a&gt;&lt;br/&gt;
</span><span style="color:#e6db74">    &lt;/body&gt;
</span><span style="color:#e6db74">&lt;/html&gt;
</span><span style="color:#e6db74">&#34;&#34;&#34;</span>

app<span style="color:#f92672">.</span>run(debug<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)

</code></pre></div>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="tags/python/">Python</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        207 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-05-01 13:09 &#43;0100
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/2021/05/python-install-without-root/">
                <span class="button__icon">←</span>
                <span class="button__text">Python Install without root</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="/posts/2021/05/python-wheels/">
                <span class="button__text">Python Wheels</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2023</span>
            
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span><span><a href="posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
          </div>
    </div>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.2ce64ea6ea44a72b13dd812fc2eb5cca3efe878cce258a47c137c17edf46e0602a05e422b618a5b80b5939c731b7a293351c2f2222a21f6ee27e54a8448dd20e.js" integrity="sha512-LOZOpupEpysT3YEvwutcyj7&#43;h4zOJYpHwTfBft9G4GAqBeQithiluAtZOccxt6KTNRwvIiKiH27iflSoRI3SDg=="></script>



    </body>
</html>
