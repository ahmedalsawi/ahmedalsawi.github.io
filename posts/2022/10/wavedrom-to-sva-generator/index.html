<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="WaveDrom is really great tool to generate timing diagram. It provide nice features to annotate the diagrams with arrows to link between edges. So, it was fun to invent simple convention using WaveDrom to generate simple SVA expressions.
I thought to start with 2 assertions:
 -~&amp;gt; Horizontal arrow between nodes -|&amp;gt; Vertical arrow between nodes  The first step is defining the nodes to anchor the arrows(Horizontal and Vertical)." />
<meta name="keywords" content=", dv" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/posts/2022/10/wavedrom-to-sva-generator/" />


    <title>
        
            Wavedrom to SVA generator :: Techiedeepdive 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.de188b3201233c251f4fd6306dbd2cb41e408fb8846c09781b2925de7df5025c.css">






<meta itemprop="name" content="Wavedrom to SVA generator">
<meta itemprop="description" content="WaveDrom is really great tool to generate timing diagram. It provide nice features to annotate the diagrams with arrows to link between edges. So, it was fun to invent simple convention using WaveDrom to generate simple SVA expressions.
I thought to start with 2 assertions:
 -~&gt; Horizontal arrow between nodes -|&gt; Vertical arrow between nodes  The first step is defining the nodes to anchor the arrows(Horizontal and Vertical)."><meta itemprop="datePublished" content="2022-10-01T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-10-01T00:00:00+00:00" />
<meta itemprop="wordCount" content="315"><meta itemprop="image" content=""/>
<meta itemprop="keywords" content="dv," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Wavedrom to SVA generator"/>
<meta name="twitter:description" content="WaveDrom is really great tool to generate timing diagram. It provide nice features to annotate the diagrams with arrows to link between edges. So, it was fun to invent simple convention using WaveDrom to generate simple SVA expressions.
I thought to start with 2 assertions:
 -~&gt; Horizontal arrow between nodes -|&gt; Vertical arrow between nodes  The first step is defining the nodes to anchor the arrows(Horizontal and Vertical)."/>




    <meta property="og:title" content="Wavedrom to SVA generator" />
<meta property="og:description" content="WaveDrom is really great tool to generate timing diagram. It provide nice features to annotate the diagrams with arrows to link between edges. So, it was fun to invent simple convention using WaveDrom to generate simple SVA expressions.
I thought to start with 2 assertions:
 -~&gt; Horizontal arrow between nodes -|&gt; Vertical arrow between nodes  The first step is defining the nodes to anchor the arrows(Horizontal and Vertical)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2022/10/wavedrom-to-sva-generator/" /><meta property="og:image" content=""/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-10-01T00:00:00+00:00" /><meta property="og:site_name" content="Techiedeepdive" />







    <meta property="article:published_time" content="2022-10-01 00:00:00 &#43;0000 UTC" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/posts">Blog</a></li><li><a href="/reading-list/">Reading list</a></li><li><a href="/tags/">Tags</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/posts/2022/10/wavedrom-to-sva-generator/">Wavedrom to SVA generator</a>
      </h1>

      

      

      <div class="post-content">
        <p>WaveDrom is really great tool to generate timing diagram. It provide nice features to annotate the diagrams with arrows to link between edges. So, it was fun to invent simple convention using WaveDrom to generate simple SVA expressions.</p>
<p>I thought to start with 2 assertions:</p>
<ul>
<li><code>-~&gt;</code> Horizontal arrow between nodes</li>
<li><code>-|&gt;</code> Vertical arrow between nodes</li>
</ul>
<p>The first step is defining the nodes to anchor the arrows(Horizontal and  Vertical).</p>
<p>The horizontal specifies <code>delayed</code> between the events.</p>
<pre tabindex="0"><code>$rise(req) |-&gt; ##[1:N] $rise(ack);
</code></pre><p>The vertical specifies <code>zero-delay</code> between the events.</p>
<pre tabindex="0"><code>$rise(req) |-&gt; ($stable(ack); &amp;&amp; ack == 0
</code></pre><div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">{
<span style="color:#0ff;font-weight:bold">&#34;signal&#34;</span>: [
  {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;clk&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;wave&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;P.......&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;node&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;........&#34;</span>},
  {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;req&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;wave&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;01...0..&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;node&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;.a.B.c.D&#34;</span>},
  {<span style="color:#0ff;font-weight:bold">&#34;name&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;ack&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;wave&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;0..1...0&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;node&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;.A.b.C.d&#34;</span>}
],
  <span style="color:#0ff;font-weight:bold">&#34;edge&#34;</span>   : [<span style="color:#0ff;font-weight:bold">&#34;a-~&gt;b 1:N&#34;</span>,
  				<span style="color:#0ff;font-weight:bold">&#34;b-~&gt;c 2&#34;</span>,
                <span style="color:#0ff;font-weight:bold">&#34;c-~&gt;d 2&#34;</span>,

  				<span style="color:#0ff;font-weight:bold">&#34;a-~&gt;c 1:</span>$<span style="color:#0ff;font-weight:bold">&#34;</span>,
  				<span style="color:#0ff;font-weight:bold">&#34;b-~&gt;d 1:</span>$<span style="color:#0ff;font-weight:bold">&#34;</span>,

  		  		<span style="color:#0ff;font-weight:bold">&#34;a-|&gt;A&#34;</span>,
  				<span style="color:#0ff;font-weight:bold">&#34;b-|&gt;B&#34;</span>,
  				<span style="color:#0ff;font-weight:bold">&#34;c-|&gt;C&#34;</span>,
  				<span style="color:#0ff;font-weight:bold">&#34;d-|&gt;D&#34;</span>

   ],
 <span style="color:#0ff;font-weight:bold">&#34;config&#34;</span>: {<span style="color:#0ff;font-weight:bold">&#34;hscale&#34;</span>:2,<span style="color:#0ff;font-weight:bold">&#34;scale&#34;</span>:2}
}
</code></pre></div><p>The generated diagram should something like the following:</p>
<p><img src="/wavedrom.png" alt="Example image"></p>
<p>And the generated SVA expressions:</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$rise(req) |-&gt; <span style="color:#007f7f">##[1:N] $rise(ack);</span>
$rise(ack) |-&gt; <span style="color:#007f7f">##[2] $fell(req);</span>
$fell(req) |-&gt; <span style="color:#007f7f">##[2] $fell(ack);</span>
$rise(req) |-&gt; <span style="color:#007f7f">##[1:$] $fell(req);</span>
$rise(ack) |-&gt; <span style="color:#007f7f">##[1:$] $fell(ack);</span>
$rise(req) |-&gt; ($stable(ack); &amp;&amp; ack == <span style="color:#ff0;font-weight:bold">0</span>
$rise(ack) |-&gt; ($stable(req); &amp;&amp; req == <span style="color:#ff0;font-weight:bold">1</span>
$fell(req) |-&gt; ($stable(ack); &amp;&amp; ack == <span style="color:#ff0;font-weight:bold">1</span>
$fell(ack) |-&gt; ($stable(req); &amp;&amp; req == <span style="color:#ff0;font-weight:bold">0</span>
</code></pre></div><p>well, Not my proudest moment but it&rsquo;s Saturday and I will probably rewrite the whole thing again.</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">        <span style="color:#fff;font-weight:bold">for</span> i, n in <span style="color:#fff;font-weight:bold">enumerate</span>(node):
            <span style="color:#007f7f"># Parse labels</span>
            <span style="color:#fff;font-weight:bold">if</span> n != <span style="color:#0ff;font-weight:bold">&#34;.&#34;</span>:
                edge = mapping[wave[i]]

                <span style="color:#fff;font-weight:bold">assert</span> (edge in mapping.values())

                <span style="color:#0ff;font-weight:bold">&#34;&#34;&#34;
</span><span style="color:#0ff;font-weight:bold">                in case of 1 or 0, that is the correct value
</span><span style="color:#0ff;font-weight:bold">                in case of &#34;.&#34;, i need to get the last non-&#34;.&#34; value
</span><span style="color:#0ff;font-weight:bold">                &#34;&#34;&#34;</span>
                value = <span style="color:#fff;font-weight:bold">None</span>
                <span style="color:#fff;font-weight:bold">if</span> wave[i] != <span style="color:#0ff;font-weight:bold">&#34;.&#34;</span>:
                    value = wave[i]
                <span style="color:#fff;font-weight:bold">else</span>:
                    value = get_last_value(wave[<span style="color:#ff0;font-weight:bold">0</span>:i])
                <span style="color:#fff;font-weight:bold">assert</span>(value is not <span style="color:#fff;font-weight:bold">None</span>)

                nn = Node(n, sig_name, i , wave[i], value, edge)
                nodes.append(nn)

    <span style="color:#007f7f"># Parse edges for assertions</span>
    edges = []
    <span style="color:#fff;font-weight:bold">for</span> e in wd[<span style="color:#0ff;font-weight:bold">&#34;edge&#34;</span>]:
        ed = <span style="color:#fff;font-weight:bold">None</span>

        <span style="color:#007f7f"># a-~&gt;b DELAY</span>
        <span style="color:#007f7f"># a |-&gt; ##[DELAY] b</span>
        result = re.match(<span style="color:#0ff;font-weight:bold">&#34;([a-zA-Z])-~&gt;([a-zA-Z]) (.*)&#34;</span>, e)
        <span style="color:#fff;font-weight:bold">if</span> result:
            tokens = result.groups()

</code></pre></div>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="tags/dv/">dv</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        315 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-10-01 01:00 &#43;0100
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/2022/10/the-diffie-hellman-key-exchange/">
                <span class="button__icon">←</span>
                <span class="button__text">The diffie hellman Key Exchange</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="/posts/2022/09/the-slowest-rsa-implementation/">
                <span class="button__text">The slowest RSA implementation</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2023</span>
            
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span><span><a href="posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
          </div>
    </div>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.2ce64ea6ea44a72b13dd812fc2eb5cca3efe878cce258a47c137c17edf46e0602a05e422b618a5b80b5939c731b7a293351c2f2222a21f6ee27e54a8448dd20e.js" integrity="sha512-LOZOpupEpysT3YEvwutcyj7&#43;h4zOJYpHwTfBft9G4GAqBeQithiluAtZOccxt6KTNRwvIiKiH27iflSoRI3SDg=="></script>



    </body>
</html>
