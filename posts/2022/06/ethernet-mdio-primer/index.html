<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="This post is about MDIO which is a part of MIIM (interface between MAC and PHY in ethernet 802 standard).
wiki provide some details (but the main reference is 802 spec)
 Management Data Input/Output (MDIO), also known as Serial Management Interface (SMI) or Media Independent Interface Management (MIIM), is a serial bus defined for the Ethernet family of IEEE 802.3 standards for the Media Independent Interface, or MII. The MII connects Media Access Control (MAC) devices with Ethernet physical layer (PHY) circuits." />
<meta name="keywords" content=", ethernet" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/posts/2022/06/ethernet-mdio-primer/" />


    <title>
        
            Ethernet MDIO Primer :: Techiedeepdive 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.de188b3201233c251f4fd6306dbd2cb41e408fb8846c09781b2925de7df5025c.css">






<meta itemprop="name" content="Ethernet MDIO Primer">
<meta itemprop="description" content="This post is about MDIO which is a part of MIIM (interface between MAC and PHY in ethernet 802 standard).
wiki provide some details (but the main reference is 802 spec)
 Management Data Input/Output (MDIO), also known as Serial Management Interface (SMI) or Media Independent Interface Management (MIIM), is a serial bus defined for the Ethernet family of IEEE 802.3 standards for the Media Independent Interface, or MII. The MII connects Media Access Control (MAC) devices with Ethernet physical layer (PHY) circuits."><meta itemprop="datePublished" content="2022-06-11T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-06-11T00:00:00+00:00" />
<meta itemprop="wordCount" content="236"><meta itemprop="image" content=""/>
<meta itemprop="keywords" content="ethernet," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Ethernet MDIO Primer"/>
<meta name="twitter:description" content="This post is about MDIO which is a part of MIIM (interface between MAC and PHY in ethernet 802 standard).
wiki provide some details (but the main reference is 802 spec)
 Management Data Input/Output (MDIO), also known as Serial Management Interface (SMI) or Media Independent Interface Management (MIIM), is a serial bus defined for the Ethernet family of IEEE 802.3 standards for the Media Independent Interface, or MII. The MII connects Media Access Control (MAC) devices with Ethernet physical layer (PHY) circuits."/>




    <meta property="og:title" content="Ethernet MDIO Primer" />
<meta property="og:description" content="This post is about MDIO which is a part of MIIM (interface between MAC and PHY in ethernet 802 standard).
wiki provide some details (but the main reference is 802 spec)
 Management Data Input/Output (MDIO), also known as Serial Management Interface (SMI) or Media Independent Interface Management (MIIM), is a serial bus defined for the Ethernet family of IEEE 802.3 standards for the Media Independent Interface, or MII. The MII connects Media Access Control (MAC) devices with Ethernet physical layer (PHY) circuits." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2022/06/ethernet-mdio-primer/" /><meta property="og:image" content=""/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-11T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-06-11T00:00:00+00:00" /><meta property="og:site_name" content="Techiedeepdive" />







    <meta property="article:published_time" content="2022-06-11 00:00:00 &#43;0000 UTC" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/posts">Blog</a></li><li><a href="/reading-list/">Reading list</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/posts/2022/06/ethernet-mdio-primer/">Ethernet MDIO Primer</a>
      </h1>

      

      

      <div class="post-content">
        <p>This post is about MDIO which is a part of MIIM (interface between MAC and PHY in ethernet 802 standard).</p>
<p><a href="https://en.wikipedia.org/wiki/Management_Data_Input/Output">wiki</a> provide some details (but the main reference is 802 spec)</p>
<blockquote>
<p>Management Data Input/Output (MDIO), also known as Serial Management Interface (SMI) or Media Independent Interface Management (MIIM), is a serial bus defined for the Ethernet family of IEEE 802.3 standards for the Media Independent Interface, or MII. The MII connects Media Access Control (MAC) devices with Ethernet physical layer (PHY) circuits. The MAC device controlling the MDIO is called the Station Management Entity (SME).</p>
</blockquote>
<h1 id="frame-and-signals">Frame and signals</h1>
<p>MDIO is one of the 2-wire family(similar to I2C):</p>
<ul>
<li>MDC</li>
<li>MDIO</li>
</ul>
<p>MDIO frame has the following fields:</p>
<ul>
<li>Start (2&rsquo;b01)</li>
<li>Write/read (2&rsquo;b01 or 2&rsquo;b10)</li>
<li>PHY address (5&rsquo;bxxxxx)</li>
<li>Register address (5&rsquo;bxxxxx)</li>
<li>turnaround (2&rsquo;b10)</li>
<li>data (16&rsquo;hxxxx)</li>
</ul>
<h1 id="tx-example">TX Example</h1>
<p>The following waveform and snippet show a simple example of MDIO TX:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-verilog" data-lang="verilog"><span style="color:#66d9ef">module</span> mdio_tx(
    <span style="color:#66d9ef">input</span> clk,
    <span style="color:#66d9ef">input</span> rst,
    <span style="color:#66d9ef">input</span> en,
    <span style="color:#66d9ef">input</span>  write,
    <span style="color:#66d9ef">input</span> [<span style="color:#ae81ff">4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] phy_addr,
    <span style="color:#66d9ef">input</span> [<span style="color:#ae81ff">4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] reg_addr,
    <span style="color:#66d9ef">input</span> [<span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] reg_data,
    <span style="color:#66d9ef">output</span> <span style="color:#66d9ef">reg</span> busy
);

<span style="color:#66d9ef">wire</span> shift_bit;
<span style="color:#66d9ef">wire</span> [<span style="color:#ae81ff">31</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] shift_reg_wire <span style="color:#f92672">=</span> {<span style="color:#ae81ff">2</span><span style="color:#ae81ff">&#39;b01</span> , write, <span style="color:#f92672">~</span>write, phy_addr, reg_addr,  <span style="color:#ae81ff">2</span><span style="color:#ae81ff">&#39;b10</span>, reg_data};
<span style="color:#66d9ef">reg</span> [<span style="color:#ae81ff">31</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] shift_reg;

<span style="color:#66d9ef">always</span> @(<span style="color:#66d9ef">posedge</span> clk) <span style="color:#66d9ef">begin</span>
    <span style="color:#66d9ef">if</span>(en) <span style="color:#66d9ef">begin</span>
     shift_reg <span style="color:#f92672">&lt;=</span> {<span style="color:#ae81ff">2</span><span style="color:#ae81ff">&#39;b01</span> , write, <span style="color:#f92672">~</span>write, phy_addr, reg_addr,  <span style="color:#ae81ff">2</span><span style="color:#ae81ff">&#39;b10</span>, reg_data};
    <span style="color:#66d9ef">end</span>
    <span style="color:#66d9ef">else</span>
        shift_reg[<span style="color:#ae81ff">31</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] <span style="color:#f92672">&lt;=</span> {shift_reg[<span style="color:#ae81ff">30</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>], <span style="color:#ae81ff">1</span><span style="color:#ae81ff">&#39;b0</span>};
<span style="color:#66d9ef">end</span>

<span style="color:#66d9ef">assign</span> shift_bit <span style="color:#f92672">=</span> shift_reg[<span style="color:#ae81ff">31</span>];

<span style="color:#66d9ef">endmodule</span>
</code></pre></div><p><img src="/mdio.png" alt="Example image"></p>
<p>The Standard defines registers that PHY implements to be 802 compliant(I am not going to copy them here). But that&rsquo;s for another post.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="tags/ethernet/">ethernet</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        236 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-06-11 01:00 &#43;0100
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/2022/06/solving-n-queen-using-systemverilog-constraints/">
                <span class="button__icon">←</span>
                <span class="button__text">Solving N-Queen using Systemverilog Constraints</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="/posts/2022/06/systemc-hello-world/">
                <span class="button__text">Systemc Hello world</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2023</span>
            
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span><span><a href="posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
          </div>
    </div>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.2ce64ea6ea44a72b13dd812fc2eb5cca3efe878cce258a47c137c17edf46e0602a05e422b618a5b80b5939c731b7a293351c2f2222a21f6ee27e54a8448dd20e.js" integrity="sha512-LOZOpupEpysT3YEvwutcyj7&#43;h4zOJYpHwTfBft9G4GAqBeQithiluAtZOccxt6KTNRwvIiKiH27iflSoRI3SDg=="></script>



    </body>
</html>
