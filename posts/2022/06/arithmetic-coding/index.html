<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="In previous post, I wrote quick post about Huffman Coding. Apparently, Arithmetic Coding is replaces Huffman. It&amp;rsquo;s optional in MPEG and it&amp;rsquo;s part VP9 specs.
wiki describes it as
 Arithmetic coding (AC) is a form of entropy encoding used in lossless data compression.
 The encoding works by sending a value in range of probability [0,1](as fixed-point). Basically, It is decision tree on steroids. I really like the diagram on the wiki." />
<meta name="keywords" content=", info-theory" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="/posts/2022/06/arithmetic-coding/" />


    <title>
        
            Arithmetic Coding :: Techiedeepdive 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.de188b3201233c251f4fd6306dbd2cb41e408fb8846c09781b2925de7df5025c.css">






<meta itemprop="name" content="Arithmetic Coding">
<meta itemprop="description" content="In previous post, I wrote quick post about Huffman Coding. Apparently, Arithmetic Coding is replaces Huffman. It&rsquo;s optional in MPEG and it&rsquo;s part VP9 specs.
wiki describes it as
 Arithmetic coding (AC) is a form of entropy encoding used in lossless data compression.
 The encoding works by sending a value in range of probability [0,1](as fixed-point). Basically, It is decision tree on steroids. I really like the diagram on the wiki."><meta itemprop="datePublished" content="2022-06-18T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-06-18T00:00:00+00:00" />
<meta itemprop="wordCount" content="288"><meta itemprop="image" content=""/>
<meta itemprop="keywords" content="info-theory," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Arithmetic Coding"/>
<meta name="twitter:description" content="In previous post, I wrote quick post about Huffman Coding. Apparently, Arithmetic Coding is replaces Huffman. It&rsquo;s optional in MPEG and it&rsquo;s part VP9 specs.
wiki describes it as
 Arithmetic coding (AC) is a form of entropy encoding used in lossless data compression.
 The encoding works by sending a value in range of probability [0,1](as fixed-point). Basically, It is decision tree on steroids. I really like the diagram on the wiki."/>




    <meta property="og:title" content="Arithmetic Coding" />
<meta property="og:description" content="In previous post, I wrote quick post about Huffman Coding. Apparently, Arithmetic Coding is replaces Huffman. It&rsquo;s optional in MPEG and it&rsquo;s part VP9 specs.
wiki describes it as
 Arithmetic coding (AC) is a form of entropy encoding used in lossless data compression.
 The encoding works by sending a value in range of probability [0,1](as fixed-point). Basically, It is decision tree on steroids. I really like the diagram on the wiki." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2022/06/arithmetic-coding/" /><meta property="og:image" content=""/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-06-18T00:00:00+00:00" /><meta property="og:site_name" content="Techiedeepdive" />







    <meta property="article:published_time" content="2022-06-18 00:00:00 &#43;0000 UTC" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">$ cd /home/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/posts">Blog</a></li><li><a href="/reading-list/">Reading list</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        2 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="/posts/2022/06/arithmetic-coding/">Arithmetic Coding</a>
      </h1>

      

      

      <div class="post-content">
        <p>In previous post, I wrote quick post about Huffman Coding. Apparently, Arithmetic Coding is replaces Huffman. It&rsquo;s optional in MPEG and it&rsquo;s part VP9 specs.</p>
<p><a href="https://en.wikipedia.org/wiki/Arithmetic_coding">wiki</a> describes it as</p>
<blockquote>
<p>Arithmetic coding (AC) is a form of entropy encoding used in lossless data compression.</p>
</blockquote>
<p>The encoding works by sending a value in range of probability <code>[0,1]</code>(as fixed-point). Basically, It is decision tree on steroids. I really like the diagram on the wiki.</p>
<p><img src="/arithmetic-coding.png" alt="Example image"></p>
<p>For this work, we need to define Probability for each symbol. Then process each symbol reducing the number as you go. The interesting part is sending more probable symbol means less digits which means less bandwidth needed. If we keep sending less probable symbols, The fraction gets bigger and more bits to encode the symbol stream. But who knows! I could be totally worng here.</p>
<p>The following example is a simple implementation of arithmetic coding. I found it in <a href="https://web.stanford.edu/class/ee398a/handouts/papers/WittenACM87ArithmCoding.pdf">course notes</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">encode</span>(sym_id, low, high, freq):
    range_ <span style="color:#f92672">=</span> high <span style="color:#f92672">-</span> low
    high   <span style="color:#f92672">=</span>  low <span style="color:#f92672">+</span> range_ <span style="color:#f92672">*</span> freq[sym_id<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]
    low    <span style="color:#f92672">=</span>  low <span style="color:#f92672">+</span> range_ <span style="color:#f92672">*</span> freq[sym_id]
    <span style="color:#66d9ef">return</span> (range_, low, high)


STR <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;eaii!&#34;</span>
freq <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#ae81ff">0.0</span>, <span style="color:#ae81ff">0.2</span>),
        (<span style="color:#e6db74">&#34;e&#34;</span>, <span style="color:#ae81ff">0.2</span>, <span style="color:#ae81ff">0.5</span>),
        (<span style="color:#e6db74">&#34;i&#34;</span>, <span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.6</span>),
        (<span style="color:#e6db74">&#34;o&#34;</span>, <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.8</span>),
        (<span style="color:#e6db74">&#34;u&#34;</span>, <span style="color:#ae81ff">0.8</span>, <span style="color:#ae81ff">0.9</span>),
        (<span style="color:#e6db74">&#34;!&#34;</span>, <span style="color:#ae81ff">0.9</span>, <span style="color:#ae81ff">1.0</span>)]

low <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
high <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>

freq1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> [x[<span style="color:#ae81ff">2</span>] <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> freq]

print(freq1)

print(<span style="color:#e6db74">&#34;===================&#34;</span>)
print(<span style="color:#e6db74">&#34;char range low high&#34;</span>)
print(<span style="color:#e6db74">&#34;===================&#34;</span>)
<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> STR:
    index <span style="color:#f92672">=</span> [x[<span style="color:#ae81ff">0</span>] <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> freq]<span style="color:#f92672">.</span>index(i)
    (r, low, high) <span style="color:#f92672">=</span> encode(index, low, high, freq1)
    print((i, r, low, high))
</code></pre></div><p>And output of the above code is</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>0, 0.2, 0.5, 0.6, 0.8, 0.9, 1.0<span style="color:#f92672">]</span>
<span style="color:#f92672">===================</span>
char range low high
<span style="color:#f92672">===================</span>
<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;e&#39;</span>, 1, 0.2, 0.5<span style="color:#f92672">)</span>
<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;a&#39;</span>, 0.3, 0.2, 0.26<span style="color:#f92672">)</span>
<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;i&#39;</span>, 0.06, 0.23, 0.23600000000000002<span style="color:#f92672">)</span>
<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;i&#39;</span>, 0.006000000000000005, 0.233, 0.2336<span style="color:#f92672">)</span>
<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;!&#39;</span>, 0.0005999999999999894, 0.23354, 0.2336<span style="color:#f92672">)</span>
</code></pre></div>
      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="tags/info-theory/">info-theory</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        288 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-06-18 01:00 &#43;0100
        

         
          
        
      </p>
    </div>

    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>

        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/posts/2022/06/rgb-to-ycbcr-and-dct/idct-effects/">
                <span class="button__icon">←</span>
                <span class="button__text">RGB to YCbCr and DCT/IDCT effects</span>
              </a>
            </span>
          

          
            <span class="button next">
              <a href="/posts/2022/06/discrete-fourier-transform-dft/">
                <span class="button__text">Discrete Fourier Transform - DFT</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    


    

    

  </main>

            </div>

            
                <footer class="footer">
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2023</span>
            
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span><span><a href="posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
        </div>
    </div>
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span>
            <span>Made with &#10084; by <a href="https://github.com/rhazdon">Djordje Atlialp</a></span>
          </div>
    </div>
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.2ce64ea6ea44a72b13dd812fc2eb5cca3efe878cce258a47c137c17edf46e0602a05e422b618a5b80b5939c731b7a293351c2f2222a21f6ee27e54a8448dd20e.js" integrity="sha512-LOZOpupEpysT3YEvwutcyj7&#43;h4zOJYpHwTfBft9G4GAqBeQithiluAtZOccxt6KTNRwvIiKiH27iflSoRI3SDg=="></script>



    </body>
</html>
